<!-- report choice -->
<div class="container py-3">
  <div class="col-md-6">
    <h3 class="fs-3">Select Report</h3>

    <form [formGroup]="formValue">

      <select class="form-select form-select-lg mb-3" (click)="getreport()" formControlName="report"
        aria-label=".form-select-lg example">
        <option value="movie">Movie Report </option>
        <option value="ticket">Ticket Report </option>
      </select>
    </form>
  </div>
</div>

<div class="container py-3" [ngSwitch]="reportType">

  <div class="container" *ngSwitchCase="'default'">


    <div class="container">
      <!-- Button trigger modal -->
      <!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Add new Movie
      </button> -->
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th scope="col">Serial</th>
            <th scope="col">Movie Title</th>
            <th scope="col">Director</th>
            <th scope="col">Catagorey</th>
            <th scope="col">Released Date</th>
            <th scope="col">Ticket Price</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let movie of movieData let i = index">
            <th>{{i+1}}</th>
            <td>{{movie.title}}</td>
            <td>{{movie.director}}</td>
            <td>{{movie.genera}}</td>
            <td>{{movie.releaseDate}}</td>
            <td>{{movie.price}}</td>
          </tr>

        </tbody>
      </table>
    </div>

    <!-- modal -->
    <div class="container">


      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form [formGroup]="movieValue">
                <div class="input-group mb-3">
                  <label class="form-label" id="inputGroup-sizing-default">Movie Title </label>
                  <input type="text" class="form-control" formGroupName="title">
                </div>

                <div class="input-group mb-3">
                  <span class="input-group-text" id="inputGroup-sizing-default">Movie Director</span>
                  <input type="text" class="form-control" formGroupName="director">
                </div>

                <div class="input-group mb-3">
                  <span class="input-group-text" id="inputGroup-sizing-default">Category </span>
                  <input type="text" class="form-control" formGroupName="genera">
                </div>

                <div class="input-group mb-3">
                  <span class="input-group-text" id="inputGroup-sizing-default">Movie Duration</span>
                  <input type="text" class="form-control" formGroupName="duration">
                </div>

                <div class="input-group mb-3">
                  <span class="input-group-text" id="inputGroup-sizing-default">Show time</span>
                  <!-- <input type="text" class="form-control" formGroupName="price">  -->
                  <select class="form-select form-select-lg mb-3" formControlName="showtime"
                    aria-label=".form-select-lg example">
                    <option value="09:00 am">09:00 am </option>
                    <option value="03:00 pm">03:00 pm</option>
                    <option value="07:00 pm">07:00 pm</option>
                  </select>
                </div>

                <div class="input-group mb-3">
                  <span class="input-group-text" id="inputGroup-sizing-default">Seat Price</span>
                  <input type="text" class="form-control" formGroupName="price">
                </div>

                <div class="input-group mb-3">
                  <span class="input-group-text" id="inputGroup-sizing-default">Country</span>
                  <input type="text" class="form-control" formGroupName="country">
                </div>



                <div class="input-group mb-3">
                  <span class="input-group-text" id="inputGroup-sizing-default">Description</span>
                  <!-- <input type="text" class="form-control" formGroupName="country">  -->
                  <textarea class="form-control" formGroupName="description"></textarea>
                </div>

                <div class="input-group mb-3">
                  <span class="input-group-text" id="inputGroup-sizing-default">Poster Link</span>
                  <input type="text" class="form-control" formGroupName="imagelink">

                </div>

              </form>
            </div>
            <div class="modal-footer">
              
              <button type="button" class="btn btn-primary"
               (click)="movieSubmit()"
              >Save</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container" *ngSwitchCase="'ticket'">
    <div class="container">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th scope="col">serial</th>
            <th scope="col">Movie Title</th>
            <th scope="col">Show Date</th>
            <th scope="col">Seat</th>

            <th scope="col">Ticket Price</th>
            <th scope="col">Payment method</th>
            <th scope="col">User</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ticket of ticketData let i = index">
            <th>{{i+1}}</th>
            <td>{{ticket.movieName}}</td>
            <td>{{ticket.showDate}}</td>
            <td>{{ticket.numberOfSeat}}</td>
            <td>{{ticket.price}}</td>
            <td>{{ticket.paymentMethod}}</td>
            <td>{{ticket.userId}}</td>
          </tr>

        </tbody>
      </table>
    </div>
  </div>
</div>